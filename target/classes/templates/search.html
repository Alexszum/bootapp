<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="/static/css/materialize.min.css" th:href="@{/css/materialize.min.css}" media="screen,projection"/>
      <link type="text/css" rel="stylesheet" href="/static/css/custom.css" th:href="@{/css/custom.css}" media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>My app</title>
</head>
<body>
  <header>
	<nav class="nav-wrapper grey darken-3">
			<div class="nav-wrapper">
				<div class="container">
					<a th:href="@{/index}" class="brand-logo">Black Books Shop</a>
					<a href="" class="sidenav-trigger" data-target="mobile-menu">
						<i class="material-icons">menu</i>
					</a>
					<ul class="right hide-on-med-and-down">
						<li><a th:href="@{/writers}">Writers</a></li> 
						<li><a th:href="@{/books}">Books</a></li> 
						<li><a th:href="@{/addbook}">Add book</a></li> 
						<li><a th:href="@{/addwriter}">Add writer</a></li> 
						<li><a th:href="@{/signin}">Sign In</a></li> 
					</ul>
					<ul class="sidenav grey lighten-2" id ="mobile-menu"> 
						<li><a th:href="@{/writers}">Writers</a></li> 
						<li><a th:href="@{/books}">Books</a></li> 
						<li><a th:href="@{/addbook}">Add book</a></li>
						<li><a th:href="@{/addwriter}">Add writer</a></li> 
						<li><a th:href="@{/signin}">Sign In</a></li> 
					</ul>
				</div>
			</div>
     	</nav>
	<nav class="nav-wrapper grey darken-2">
		<div class="nav-wrapper">
			<div class="container">
				<div class="row">
					    <form class="col s12" action="#" th:action="@{/search/submit}" th:object="${search}" method="post">
					      <div class="row">
					        <div class="input-field col s6 grey darken-1">
					          <i class="material-icons prefix">search</i>
					          <input id="icon_prefix" type="text" class="validate" th:field="*{searchRequest}">
					          <label for="icon_prefix">Search for books by title / author</label>
					        </div>	        
					      </div>
					    </form>
				 </div>
			</div>
		</div>
	</nav>
  </header>
   <div id="header"></div>
	<div class="container">
		<div class="row">
			<div class="col s12 m12">
			  <div class="card grey lighten-2">
				<div class="card-content black-text">
				  <span class="card-title" th:text="${searchmsg}">All books</span>
				  <div>
					  <table>
					  	<div class="col s12 m12 l9">
     					  <div id="card-container" class="row">
					 		 <tr th:each = " book: ${books}">
					  
									<div class="col s12 m6 l4">
							          <!-- Card 1 -->
							          <div class="card">
							            <div class="card-content white-text">
							              <div class="card__date">
							                <span class="card__date__day">30%</span>
							                <span class="card__date__month">SALE</span>
							              </div>
							              <div class="card__meta">
							                <a th:href="@{/bookinfo(id=${book.id},authorid=${book.bookAuthorId}, author=${service.findAuthor(book.bookAuthorId)} )}"><i class="small material-icons">import_contacts</i></i><i th:utext="${book.bookName}">...</i></a>
							                <time>17th March</time>
							              </div>
							              <span class="card-title grey-text text-darken-4" th:utext="'Автор: '+ ${service.findAuthor(book.bookAuthorId)}">Author name</span>
							
							              <p class="card-subtitle grey-text text-darken-2" th:utext="${book.bookDescription}">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sagittis pellentesque lacus eleifend lacinia...lacus eleifend lacinia... go!</p>
							            </div>
							            <div class="card-action">
							              <a th:href="@{/bookinfo(id=${book.id},authorid=${book.bookAuthorId}, author=${service.findAuthor(book.bookAuthorId)} )}"><i class="material-icons">&nbsp;assignment</i>ОПИСАНИЕ</a>
							              <a href="#" class="card-action-right"><i class="material-icons">&nbsp;attach_money</i><i th:utext="${book.price}">КУПИТЬ</i></a>
							            </div>
							          </div>
							        </div>

							  </tr>
						  </div>
					  </div>
				  </table>
				</div>
			  </div>
				<div class="card-action">
				<p>Page 1 from 1</p>
				</div>
			  </div>
			</div>
		</div>
    </div>
    
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js" ></script>
    <script type="text/javascript" src="/static/js/materialize.min.js" th:src="@{/js/materialize.min.js}"></script>
	<script type="text/javascript">
    $(document).ready(function(){
        $('.sidenav').sidenav();
    });

    
    
	$(document).ready(function(){
    $('input.autocomplete').autocomplete({
      data: {
        "Apple": null,
        "Microsoft": null,
        "Google": 'https://placehold.it/250x250'
      },
    });
  });
	</script>
</body>
</html>